<!-- Server Side Includes to pull in head html file -->
{% include 'head.html' %}

<script>
    function initMap(){
        var mapcenter = {lat: 43.1856307, lng: -77.6865509};
        var map = new google.maps.Map(document.getElementById('hospitalMap'), {
            zoom: 11,
            center: mapcenter,
            mapTypId: google.maps.MapTypeId.ROADMAP
        });

        var hospitalLocationHighland = {lat: 43.135475, lng: -77.606110};
        var hospitalLocationHighlandFamily = {lat: 43.142106, lng: -77.599179};
        var hospitalLocationRochesterGeneral = {lat: 43.153636, lng: -77.560190};
        var hospitalLocationUnity = {lat: 43.193421, lng: -77.705872};

        //TODO adjust the content for each of the hospitals below. A small tumbnail picture would also be nice
        var contentHighland =   '<div id="content">' +
                                '<div id="siteNotice">' +
                                '</div>' +
                                '<h3 id="firstHeading" class="firstHeading">Highland General Hospital</h3>'+
                                '<div id="bodyContent">' +
                                '<p>This is information about the hospital that will appear when the marker ' +
                                'is clicked</p>' +
                                '</div>' +
                                '</div>';
        var contentHighlandFamily = '<div id="content">' +
                                    '<div id="siteNotice">' +
                                    '</div>' +
                                    '<h3 id="firstHeading" class="firstHeading">Highland Family Hospital</h3>'+
                                    '<div id="bodyContent">' +
                                    '<p>This is information about the hospital that will appear when the marker ' +
                                    'is clicked</p>' +
                                    '</div>' +
                                    '</div>';
        var contentRochesterGeneral =  '<div id="content">' +
                                        '<div id="siteNotice">' +
                                        '</div>' +
                                        '<h3 id="firstHeading" class="firstHeading">Rochester General Hospital</h3>'+
                                        '<div id="bodyContent">' +
                                        '<p>This is information about the hospital that will appear when the marker ' +
                                        'is clicked</p>' +
                                        '</div>' +
                                        '</div>';
        var contentUnity = '<div id="content">' +
                            '<div id="siteNotice">' +
                            '</div>' +
                            '<h3 id="firstHeading" class="firstHeading">Unity Hospital</h3>'+
                            '<div id="bodyContent">' +
                            '<p>This is information about the hospital that will appear when the marker ' +
                            'is clicked</p>' +
                            '</div>' +
                            '</div>';
        //The following can be used to toggle a bounce animation on the markers
        //This may be useful for when the user is selecting the hospital from a
        //drop down menu.
        //if(markerHighland.getAnimation() !== null){
        //    markerHighland.setAnimation(null);
        //} else {
        //    markerHighland.setAnimation(google.maps.Animation.BOUNCE);
        //}


        var infoWindowHighland = new google.maps.InfoWindow({
            content: contentHighland
        });
        var markerHighland = new google.maps.Marker({
            animation: google.maps.Animation.DROP,
            position: hospitalLocationHighland,
            map: map,
            title: 'Highland General'
        });
        markerHighland.addListener('click', function() {
            infoWindowHighlandFamily.close();
            infoWindowRochesterGeneral.close();
            infoWindowUnity.close();
            infoWindowHighland.open(map, markerHighland);
        });

        var infoWindowHighlandFamily = new google.maps.InfoWindow({
            content: contentHighlandFamily
        });
        var markerHighlandFamily = new google.maps.Marker({
            animation: google.maps.Animation.DROP,
            position: hospitalLocationHighlandFamily,
            map: map,
            title: 'Highland Family'
        });
        markerHighlandFamily.addListener('click', function() {
            infoWindowHighland.close();
            infoWindowRochesterGeneral.close();
            infoWindowUnity.close();
            infoWindowHighlandFamily.open(map, markerHighlandFamily);
        });

        var infoWindowRochesterGeneral = new google.maps.InfoWindow({
            content: contentRochesterGeneral
        });
        var markerRochesterGeneral = new google.maps.Marker({
            animation: google.maps.Animation.DROP,
            position: hospitalLocationRochesterGeneral,
            map: map,
            title: 'Rochester General'
        });
        markerRochesterGeneral.addListener('click', function() {
            infoWindowHighland.close();
            infoWindowHighlandFamily.close();
            infoWindowUnity.close();
            infoWindowRochesterGeneral.open(map, markerRochesterGeneral);
        });

        var infoWindowUnity = new google.maps.InfoWindow({
            content: contentUnity
        });
        var markerUnity = new google.maps.Marker({
            animation: google.maps.Animation.DROP,
            position: hospitalLocationUnity,
            map: map,
            title: 'Unity'
        });
        markerUnity.addListener('click', function() {
            infoWindowHighland.close();
            infoWindowHighlandFamily.close();
            infoWindowRochesterGeneral.close();
            infoWindowUnity.open(map, markerUnity);
        });

        map.addListener('click', function() {
            infoWindowHighland.close();
            infoWindowHighlandFamily.close();
            infoWindowRochesterGeneral.close();
            infoWindowUnity.close();
        });
    }
</script>
<script async defer
        src="https://maps.googleapis.com/maps/api/js?key=AIzaSyAAxZ5sO9tX-mrFU1gH3I5p__VSGO0wjKs&signed_in=true&callback=initMap">
</script>
<script>
    function hideOther(){
        if(document.getElementById('other').checked){
            document.getElementById('otherField').style.display = "block";
        } else {
            document.getElementById('otherField').style.display = "none";
        }
    }
</script>

<div class="container white z-depth-2 " style="height: 100%;">
    <div class="row" style="padding: 0px; margin: 0px;">
        <form class="col transparent" method="post" action="." style="width: 100%; height: 100%; padding: 0px;">
            <div class="col s12 z-depth-1" style="padding: 0px;">
                <ul class="tabs ">
                    <li class="tab col s3 "><a href="#UserInfo" class="active">Account Info</a></li>
                    <li class="tab col s3"><a href="#ProfileInfo">Profile</a></li>
                    <li class="tab col s3"><a href="#InsuranceInfo">Insurance</a></li>
                    <li class="tab col s3"><a href="#MedicalInfo">Medical</a></li>
                </ul>
            </div>
            <div id="UserInfo" class="col s12 valign-wrapper" style="width:100%;">
                <div id="hospitalMap" style="width:500px; height:500px;" class="z-depth-1 valign"></div>
            </div>
            <div id="ProfileInfo" class="col s12">
                <!--
                firstName = models.CharField(max_length=MAX_LENGTH)
                middleName = models.CharField(blank=True, max_length=MAX_LENGTH)
                lastName = models.CharField(max_length=MAX_LENGTH)
                socialSecurity = models.CharField(max_length=9)
                citizen = models.BooleanField(default=True)
                dateOfBirth = models.DateField(blank=True)
                MALE = 'M'
                FEMALE = 'F'
                SEX_CHOICES = ((MALE,'Male'),(FEMALE,'Female'))
                sex = models.CharField(max_length=1, choices=SEX_CHOICES,default=MALE)
                address = models.CharField(max_length=MAX_LENGTH)
                city = models.CharField(max_length=MAX_LENGTH)
                state = models.CharField(max_length=2, choices=STATE_CHOICES, blank=True)
                zipcode = models.CharField(max_length=5)
                phoneNumber = models.CharField(max_length=14)
                email = models.EmailField(blank=False)
                #switch to email based login
                #choice of preferred hospital
                #choice of emergency contact info (linked to other patient if already in system)
                -->

                <div class="input-field col s6">
                    <input id="first_name" type="text" class="validate">
                    <label for="first_name">First Name</label>
                </div>
                <div class="input-field col s6">
                    <input id="middle_name" type="text" class="validate">
                    <label for="middle_name">Middle Name</label>
                </div>
                <div class="input-field col s6">
                    <input id="last_name" type="text" class="validate">
                    <label for="last_name">Last Name</label>
                </div>
                <!--
                <div class="input-field col s6">
                    <input id="socialSecurity" type="text" class="validate">
                    <label for="socialSecurity">Social Security</label>
                </div>
                -->
                <div class="input-field col s6">
                    <input id="address" type="text" class="validate">
                    <label for="address">Street Address</label>
                </div>
                <!-- TODO state selector here -->
                <div class="input-field col s6">
                    <input id="zipcode" type="text" class="validate">
                    <label for="zipcode">Zipcode</label>
                </div>
                <div class="input-field col s6">
                    <input id="phoneNumber" type="text" class="validate">
                    <label for="phoneNumber">Phone Number</label>
                </div>
                <div class="input-field col s6">
                    <input id="email" type="email" class="validate">
                    <label for="email">Email Address</label>
                </div>


            </div>
            <div id="InsuranceInfo" class="col s12">
                <!--
                provider = models.CharField(choices=SUPPORTED_INSURANCE, max_length=MAX_LENGTH)
                policyNumber = models.CharField(max_length=MAX_LENGTH)
                groupNumber = models.CharField(max_length=MAX_LENGTH)
                policyExpirationDate = models.DateField()
                premiumAmount = models.CharField(max_length=MAX_LENGTH)
                POLICY_TYPE = (('Primary', 'Primary'),('Secondary','Secondary'))
                policyType = models.CharField(choices=POLICY_TYPE, max_length=MAX_LENGTH)\
                -->

            </div>
            <div id="MedicalInfo" class="col s12 center-align">
                <!--
                #possible fields such as last checkup etc.
                -->
                <!--TODO make the list responsive for mobile devices -->
                <div class="card-title" style="width:100%;"><h5>Please select any conditions you've had</h5></div>
                <hr />
                <div >
                    <div class="col s6 m4 ">
                        <p>
                            <input type="checkbox" id="tuberculosis" />
                            <label for="tuberculosis" class="center-align">Tuberculosis</label>
                        </p>
                        <p>
                            <input type="checkbox" id="influenza" />
                            <label for="influenza">Influenza</label>
                        </p>
                        <p>
                            <input type="checkbox" id="rheumaticFever" />
                            <label for="rheumaticFever">Rheumatic Fever</label>
                        </p>
                        <p>
                            <input type="checkbox" id="whoopingCough" />
                            <label for="whoopingCough">Whooping Cough</label>
                        </p>
                        <p>
                            <input type="checkbox" id="tonsillitis" />
                            <label for="tonsillitis">Tonsillitis</label>
                        </p>
                        <p>
                            <input type="checkbox" id="measles" />
                            <label for="measles">Measles</label>
                        </p>
                        <p>
                            <input type="checkbox" id="mumps" />
                            <label for="mumps">Mumps</label>
                        </p>
                        <p>
                            <input type="checkbox" id="frequentColds" />
                            <label for="frequentColds">Frequent Colds</label>
                        </p>
                        <p>
                            <input type="checkbox" id="germanMeasles" />
                            <label for="germanMeasles">German Measles</label>
                        </p>
                        <div class="input-field col s4">
                            <select multiple>
                                <option value="1"  selected>None</option>
                                <option value="2">Skin</option>
                                <option value="3">Lung</option>
                                <option value="4">Prostate</option>
                                <option value="5">Breast</option>
                                <option value="6">Colorectal</option>
                                <option value="7">Kidney</option>
                                <option value="8">Bladder</option>
                                <option value="9">Thyroid</option>
                                <option value="10">Other</option>
                            </select>
                            <label>Cancer</label>
                        </div>
                    </div>
                    <div class="col s6 m4">
                        <p>
                            <input type="checkbox" id="scarletFever" />
                            <label for="scarletFever">Scarlet Fever</label>
                        </p>
                        <p>
                            <input type="checkbox" id="scarlatina" />
                            <label for="scarlatina">Scarlatina</label>
                        </p>
                        <p>
                            <input type="checkbox" id="diphtheria" />
                            <label for="diphtheria">Diphtheria</label>
                        </p>
                        <p>
                            <input type="checkbox" id="polio" />
                            <label for="polio">Polio</label>
                        </p>
                        <p>
                            <input type="checkbox" id="chickenpox" />
                            <label for="chickenpox">Chickenpox</label>
                        </p>
                        <p>
                            <input type="checkbox" id="coxsackie" />
                            <label for="coxsackie">Coxsackie</label>
                        </p>
                        <p>
                            <input type="checkbox" id="pneumonia" />
                            <label for="pneumonia">Pneumonia</label>
                        </p>
                        <p>
                            <input type="checkbox" id="highBloodPressure" />
                            <label for="highBloodPressure">High Blood Pressure</label>
                        </p>
                        <p>
                            <input type="checkbox" id="migraine" />
                            <label for="migraine">Migraines</label>
                        </p>
                        <div class="input-field col s4">
                            <select >
                                <option value="1"  selected>None</option>
                                <option value="2">Type 1</option>
                                <option value="3">Type 2</option>
                            </select>
                            <label>Diabetes</label>
                        </div>
                    </div>
                    <div class="col s6 m4">
                        <p>
                            <input type="checkbox" id="strokes" />
                            <label for="strokes">Strokes</label>
                        </p>
                        <p>
                            <input type="checkbox" id="kidneyDisease" />
                            <label for="kidneyDisease">Kidney Disease</label>
                        </p>
                        <p>
                            <input type="checkbox" id="arthritis" />
                            <label for="arthritis">Arthritis</label>
                        </p>
                        <p>
                            <input type="checkbox" id="allergy" />
                            <label for="allergy">Allergies</label>
                        </p>
                        <p>
                            <input type="checkbox" id="syphilis" />
                            <label for="syphilis">Syphilis</label>
                        </p>
                        <p>
                            <input type="checkbox" id="anemia" />
                            <label for="anemia">Anemia</label>
                        </p>
                        <p>
                            <input type="checkbox" id="obesity" />
                            <label for="obesity">Obesity</label>
                        </p>
                        <p>
                            <input type="checkbox" id="epilepsy" />
                            <label for="epilepsy">Epilepsy</label>
                        </p>
                        <p>
                            <input type="checkbox" id="other" onchange="hideOther();" />
                            <label for="other">Other</label>
                        </p>
                    </div>
                    <div class="input-field col s6 right" id="otherField">
                        <input placeholder="Please type the condition" id="otherText" type="text" class="validate" >
                        <label for="otherText">Please Specify:</label>
                    </div>

                </div>
                <!--TODO add cancer and diabetes here -->
            </div>
        </form>
    </div>
</div>
<!-- Close the tags opened in head.html -->
</body>
</html>
